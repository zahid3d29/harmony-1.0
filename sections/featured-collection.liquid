<style>

    /* Create an active/current "featured__collection-tab button" class */
    section#harmony--{{ section.id }} .featured__collection-tab button.active {
        padding-left: 60px;
        border-bottom: 1px solid #e6e6e6;
        transition: 0.5s;
        opacity: 1;
    }
    section#harmony--{{ section.id }} .featured__collection-tab button.active::before {
        content: "\2212";
        font-size: 60px;
        font-weight: 100;
        line-height: 1.8;
        color: #e6e6e6;
        margin-left: -17px;
    }

    @media only screen and ( max-width: 600px ){
        section#harmony--{{ section.id }} .featured__collection-tab button.active {
            padding-left: 40px;
            transition: 0.5s;
        }
    }

</style>

<section id="harmony--{{ section.id }}" class="section__featured-collection harmony__color-{{ section.settings.color_scheme }}">
    <div class="mx-auto grid max-w-7xl grid-cols-1 items-center gap-x-8 gap-y-5 px-6 py-5 sm:py-5 md:grid-cols-2 md:px-10">
        <div class="featured__collection-tab-wrapper flex flex-nowrap gap-x-0 gap-y-0 justify-start items-center">
            <div class="featured__collection-tab">
                {% for block in section.blocks %}
                    <button class="categoryLinks block mb-[25px] px-15 py-0 w-full border-b border-[#e6e6e6] outline-none text-left cursor-pointer text-[36px] leading-1 lg:text-[50px] lg:leading-[96px] opacity-30 font-semibold hover:harmony__color-{{ section.settings.color_scheme }} hover:border-b-2 hover:border-gray-300 transition ease-in-out delay-50" onmouseover="openCategory(event, '{{ block.settings.collection.handle }}')" {% if forloop.index == 1 %} id="defaultCatsOpen"{% endif %}>{{ block.settings.collection.title }}</button>
                {% endfor %}
            </div>
        </div>
        <div class="featured__collection-content flex flex-nowrap gap-x-0 gap-y-0 justify-start lg:justify-end items-center">
            {% for block in section.blocks %}
                <div id="{{ block.settings.collection.handle }}" class="categoryContent grid grid-cols-2 grid-rows-2 gap-2 sm:gap-4 lg:gap-6">
                    {%- for product in block.settings.collection.products limit: 4 -%}
                        <div class="bg-[url('{{ product.featured_media | image_url }}')] bg-scroll bg-center bg-no-repeat bg-contain border border-none outline-none w-[160px] h-[160px] lg:h-[240px] lg:w-[250px] rounded-lg bg-transparent animate__animated animate__fadeIn animate__sloweranimate__animated animate__fadeIn animate__slower"></div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>
    </div>
</section>


{% comment %} schema settings color  {% endcomment %}
{% for scheme in settings.color_schemes %}
    {% style %} 
      .harmony__color-{{ scheme.id }}{
        background: rgb({{ scheme.settings.background.red }},{{ scheme.settings.background.green }},{{ scheme.settings.background.blue }});
        color: rgb({{ scheme.settings.text.red }},{{ scheme.settings.text.green }},{{ scheme.settings.text.blue }});
      }
    {% endstyle %} 
  {% endfor %}

<script>
    function openCategory(evt, categoryName) {
        var i, categoryContent, categoryLinks;
        categoryContent = document.getElementsByClassName("categoryContent");
        for (i = 0; i < categoryContent.length; i++) {
            categoryContent[i].style.display = "none";
        }
        categoryLinks = document.getElementsByClassName("categoryLinks");
        for (i = 0; i < categoryLinks.length; i++) {
            categoryLinks[i].className = categoryLinks[i].className.replace(" active", "");
        }
        document.getElementById(categoryName).style.display = "grid";
        evt.currentTarget.className += " active";
    }
    // Get the element with id="defaultOpen" and click on it
    document.getElementById("defaultCatsOpen").dispatchEvent(new Event('mouseover'));
</script>
   

{% schema %}
{
    "name": "Featured Collection",
    "class": "harmony_section-featured-collection",
    "disabled_on": {
        "groups": ["header", "footer"]
    },
    "settings": [
        {
            "type": "text",
            "id": "heading",
            "label": "Heading"
        },
        {
            "type": "color_scheme",
            "id": "color_scheme",
            "label": "t:sections.announcement-bar.settings.color_scheme.label",
            "default": "scheme-1"
        },
        {
            "type": "header",
            "content": "Section padding"
        },
        {
            "type": "range",
            "id": "padding_top",
            "min": 0,
            "max": 100,
            "step": 4,
            "unit": "px",
            "label": "Padding Top",
            "default": 36
        },
        {
            "type": "range",
            "id": "padding_bottom",
            "min": 0,
            "max": 100,
            "step": 4,
            "unit": "px",
            "label": "Padding Bottom",
            "default": 36
        }
   
    ],
    "blocks":[
        {
          "type":"block",
          "name": "Collection",
          "settings": [
            {
                "type": "collection",
                "id": "collection",
                "label": "Collection"
            }
          ]
        }
    ],
    "presets": [
        {
            "name": "Featured Collection",
            "category": "Harmony Sections"
        }
    ]
 }
{% endschema %}

{% comment %} signature: latest file  {% endcomment %}