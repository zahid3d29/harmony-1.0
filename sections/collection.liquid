<section id="harmony--{{ section.id }}" class="bg-white">
  <div class="mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8">
    {% if collection.handle == blank %}
        <h2 class="section__heading text-[67px] leading-[72px] font-bold tracking-tight text-[#0000000]">Collection not found</h2>
    {% else %}
        <h2 class="section__heading text-[67px] leading-[72px] font-bold tracking-tight text-[#0000000]">{{ collection.title |  escape }}</h2>




        <div class="collection__main flex flex-row">
            <div class="collection__filter basis-1/3 filter__sidebar">
                <form>
                    {%- for filter in collection.filters -%}
                      <details>
                        <summary>
                          <div>
                            <span>{{ filter.label }}</span>
                  
                            {%- if filter.active_values.size > 0 -%}
                              <span>({{ filter.active_values.size }})</span>
                            {%- endif -%}
                          </div>
                        </summary>
                  
                        <div>
                          <div>
                            <p>{{ filter.active_values.size }} selected</p>
                            {%- if filter.active_values.size > 0 -%}
                              <p><a href="{{ filter.url_to_remove }}">Reset</a></p>
                            {%- endif -%}
                          </div>
                          {%- case filter.type -%}
                            {%- when 'boolean' -%}
                              <ul>
                                  <li>
                                    <label for="Filter-{{ filter.param_name }}-{{ filter.true_value.value }}">
                                    <input type="checkbox"
                                      name="{{ filter.param_name }}"
                                      value="{{ filter.true_value.value }}"
                                      id="Filter-{{ filter.param_name }}"
                                      {% if filter.true_value.active -%}checked{%- endif %}
                                      {% if filter.true_value.count == 0 and filter.true_value.active == false -%}disabled{%- endif -%}
                                    >{{ filter.true_value.label }}</label>
                                  </li>
                                  <li>
                                    <label for="Filter-{{ filter.param_name }}-{{ filter.false_value.value }}">
                                    <input type="checkbox"
                                      name="{{ filter.param_name }}"
                                      value="{{ filter.false_value.value }}"
                                      id="Filter-{{ filter.param_name }}"
                                      {% if filter.false_value.active -%}checked{%- endif %}
                                      {% if filter.false_value.count == 0 and filter.false_value.active == false -%}disabled{%- endif %}
                                    >{{ filter.false_value.label }}</label>
                                  </li>
                              </ul>
                  
                              <div>
                                <input type="submit" value="Apply">
                              </div>
                            {%- when 'list' -%}
                              <ul>
                                {%- for filter_value in filter.values -%}
                                  <li>
                                    <label for="Filter-{{ filter.param_name }}-{{ forloop.index }}">
                                    <input type="checkbox"
                                      name="{{ filter_value.param_name }}"
                                      value="{{ filter_value.value }}"
                                      id="Filter-{{ filter.param_name }}-{{ forloop.index }}"
                                      {% if filter_value.active -%}checked{%- endif %}
                                      {% if filter_value.count == 0 and filter_value.active == false -%}disabled{%- endif %}
                                    >
                                      <span>
                                        {%- case filter_value.display.type -%}
                                          {%- when 'colors' -%}
                                            {% liquid
                                              assign size_limit = filter_value.display.value.size | at_most: 4
                                              assign rotation = '0deg'
                                              if size_limit == 2
                                                assign rotation = '45deg'
                                              endif
                  
                                              assign angle_increment = 360 | divided_by: size_limit
                                              assign angle = 0
                                            %}
                                            {%- capture conic_gradient -%}
                                              {%- for color in filter_value.display.value limit: size_limit -%}
                                                {{ color }} {{ angle }}deg{%- assign angle = angle | plus: angle_increment %} {{ angle }}deg{%- unless forloop.last %}, {%- endunless -%}
                                              {%- endfor -%}
                                            {%- endcapture -%}
                                            <span style="
                                              width: 25px;
                                              height: 25px;
                                              border-radius: 50%;
                                              display: flex;
                                              justify-content: center;
                                              align-items: center;
                                              background: conic-gradient({{ conic_gradient }}); transform: rotateZ({{ rotation }});
                                            "></span>
                                          {%- when 'image' -%}
                                            {{
                                              filter_value.display.value
                                              | image_url: width: 25
                                              | image_tag: alt: filter_value.display.value.alt
                                            }}
                                          {%- else -%}
                                            <span class="visual-display__child"></span>
                                        {%- endcase -%}
                                      </span>
                                      {{ filter_value.label }}
                                    </label>
                                  </li>
                                {%- endfor -%}
                              </ul>
                  
                              <div>
                                <input type="submit" value="Apply">
                              </div>
                            {%- when 'price_range' -%}
                              <div class="filter-group-display__price-range">
                                <div class="filter-group-display__price-range-from">
                                  <span>{{ cart.currency.symbol }}</span>
                  
                                  <input name="{{ filter.min_value.param_name }}"
                                    id="Filter-{{ filter.min_value.param_name }}"
                                    {% if filter.min_value.value -%}
                                      value="{{ filter.min_value.value | money_without_currency | replace: ',', '' }}"
                                    {%- endif %}
                                    type="number"
                                    placeholder="0"
                                    min="0"
                                    max="{{ filter.range_max | money_without_currency | replace: ',', '' }}"
                                  >
                  
                                  <label for="Filter-{{ filter.min_value.param_name }}">From</label>
                                </div>
                                <div class="filter-group-display__price-range-to">
                                  <span>{{ cart.currency.symbol }}</span>
                  
                                  <input name="{{ filter.max_value.param_name }}"
                                    id="Filter-{{ filter.max_value.param_name }}"
                                    {% if filter.max_value.value -%}
                                      value="{{ filter.max_value.value | money_without_currency | replace: ',', '' }}"
                                    {%- endif %}
                                    type="number"
                                    placeholder="{{ filter.range_max | money_without_currency | replace: ',', '' }}"
                                    min="0"
                                    max="{{ filter.range_max | money_without_currency | replace: ',', '' }}"
                                  >
                  
                                  <label for="Filter-{{ filter.max_value.param_name }}">To</label>
                                </div>
                              </div>
                  
                              <div class="filter-group-display__submit">
                                <input type="submit" value="Apply">
                              </div>
                          {%- endcase -%}
                        </div>
                      </details>
                    {%- endfor -%}
                  
                    <div>
                      <p><a href="{{ collection.url }}?sort_by={{ collection.sort_by }}">Clear all</a></p>
                  
                      {%- for filter in collection.filters -%}
                        {%- if filter.type == "price_range" -%}
                          {%- if filter.min_value.value != nil or filter.max_value.value != nil -%}
                            <p>
                              <a href="{{ filter.url_to_remove }}">
                                {%- assign min_value = filter.min_value.value | default: 0 -%}
                                {%- assign max_value = filter.max_value.value | default: filter.range_max -%}
                                {{ min_value | money }} - {{ max_value | money }} X
                              </a>
                            </p>
                          {%- endif -%}
                        {%- else -%}
                          {%- for filter_value in filter.active_values -%}
                            <p>
                              <a href="{{ filter_value.url_to_remove }}">
                                {{ filter.label }}: {{ filter_value.label }} X
                              </a>
                            </p>
                          {%- endfor -%}
                        {%- endif -%}
                      {%- endfor -%}
                    </div>
                </form>                
            </div>
            <div class="collection__products">
                <div class="grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:gap-x-8">
                {% for product in collection.products %}
                    {% if collection.products.size > 0 %}
                        {% paginate collection.products by 12 %}
                            <div class="products__grid group relative">
                                <div class="product__img aspect-h-1 aspect-w-1 w-full overflow-hidden  bg-gray-200 lg:aspect-none group-hover:opacity-75 lg:h-80">
                                <a href="{{ product.url }}">
                                    {% if product.featured_image %}
                                        <img src="{{ product.featured_image | img_url: 'medium' }}" alt="{{ product.title }}" class="h-full w-full object-cover object-center lg:h-full lg:w-full">
                                    {% else %}
                                        <img src="https://via.placeholder.com/300" alt="{{ product.title }}" class="h-full w-full object-cover object-center lg:h-full lg:w-full">
                                    {% endif %}
                                </a>
                                </div>
                                <div class="product__info mt-4 flex justify-between">
                                    <div class="product__info-first">
                                        <a href="{{ product.url }}" class="product__title block">
                                            <h3 class="mt-2 mb-3 pb-2 text-[16px] leading-[21px] font-medium">{{ product.title |  escape }}</h3>
                                        </a>
                                        {% for tag in product.tags limit: 1 %}
                                        <div class="product__tags text-[12px] leading-[19px] inline-block mx-1 my-1 px-2 py-0.5 border border-black rounded-full collection-title">
                                            {{ tag }}
                                        </div>
                                        {% endfor %}
                                    </div>
                                    <div class="product__info-second">
                                        <h4 class="product__price mt-2 mb-3 pb-3 text-[13px] leading-[17px] text-right"><span class="compared_at_price line-through text-gray-500 mr-2">{{ product.compare_at_price | money_with_currency }}</span>{{ product.price | money_with_currency }}</h4>
                                        <div class="product__rating flex items-center justify-end">
                                            <div class="flex items-center justify-end text-[13px]">
                                                <svg class="harmony__color-{{ section.settings.color_scheme }} w-5 flex-shrink-0" x-state:on="Active" x-state:off="Default" x-state-description="Active: &quot;harmony__color-{{ section.settings.color_scheme }}&quot;, Default: &quot;text-gray-200&quot;" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z" clip-rule="evenodd"></path>
                                                </svg>
                                                <svg class="harmony__color-{{ section.settings.color_scheme }} w-5 flex-shrink-0" x-state-description="undefined: &quot;harmony__color-{{ section.settings.color_scheme }}&quot;, undefined: &quot;text-gray-200&quot;" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z" clip-rule="evenodd"></path>
                                                </svg>
                                                <svg class="harmony__color-{{ section.settings.color_scheme }} w-5 flex-shrink-0" x-state-description="undefined: &quot;harmony__color-{{ section.settings.color_scheme }}&quot;, undefined: &quot;text-gray-200&quot;" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z" clip-rule="evenodd"></path>
                                                </svg>
                                                <svg class="harmony__color-{{ section.settings.color_scheme }} w-5 flex-shrink-0" x-state-description="undefined: &quot;harmony__color-{{ section.settings.color_scheme }}&quot;, undefined: &quot;text-gray-200&quot;" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z" clip-rule="evenodd"></path>
                                                </svg>
                                                <svg class="text-gray-200 w-5 flex-shrink-0" x-state-description="undefined: &quot;harmony__color-{{ section.settings.color_scheme }}&quot;, undefined: &quot;text-gray-200&quot;" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z" clip-rule="evenodd"></path>
                                                </svg>
                                            </div>
                                            <span class="sr-only">3.9 out of 5 stars</span>
                                            <span class="product__feedback-count ml-3 text-[13px] leading-[17px]  hover:text-gray-500">22</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endpaginate %}
                    {% endif %}
                {% endfor %}
                </div>
            </div>
        </div>
    {% endif %} 
  </div>

</section>


{% schema %}
{
    "name": "Collection All",
    "settings": [
        {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Cart"
        }
    ],
    "presets": [
        {
            "name": "Collection All",
            "category": "Harmony Sections"
        }
    ]
}
{% endschema %}
        